import org.telegram.telegrambots.bots.TelegramLongPollingBot
import org.telegram.telegrambots.meta.api.methods.send.SendMessage
import org.telegram.telegrambots.meta.api.methods.send.SendPhoto
import org.telegram.telegrambots.meta.api.objects.InputFile
import org.telegram.telegrambots.meta.api.objects.Update
import org.telegram.telegrambots.meta.api.objects.replykeyboard.ReplyKeyboardMarkup
import org.telegram.telegrambots.meta.api.objects.replykeyboard.buttons.KeyboardRow
import org.telegram.telegrambots.meta.exceptions.TelegramApiException
import org.telegram.telegrambots.meta.TelegramBotsApi
import org.telegram.telegrambots.updatesreceivers.DefaultBotSession
import com.fasterxml.jackson.databind.ObjectMapper
import com.fasterxml.jackson.module.kotlin.readValue
import java.io.File
import java.time.LocalDateTime
import java.time.format.DateTimeFormatter
import kotlinx.coroutines.*

// Ù…ÙƒØ§Ù† Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
val DATA_FOLDER = "data"
val USERS_FILE = "$DATA_FOLDER/users.json"
val PORTFOLIOS_FILE = "$DATA_FOLDER/portfolios.json"
val TRANSACTIONS_FILE = "$DATA_FOLDER/transactions.json"

// Ø§Ù„Ù…ÙØªØ§Ø­ Ø§Ù„Ø®Ø§Øµ Ø¨Ø§Ù„Ø¨ÙˆØª
val BOT_TOKEN = "8018424913:AAE76-eaup7xD_vErDZDQheMaPUWbuKtCX4"
val ALPHA_VANTAGE_API_KEY = "YOIIBHNR4ZBQVB5W"

// Ø­Ø§Ù„Ø§Øª Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©
enum class ConversationState {
    IDLE, 
    AWAITING_PORTFOLIO_NAME,
    AWAITING_ASSET_SYMBOL,
    AWAITING_ASSET_QUANTITY,
    AWAITING_ASSET_PRICE
}

// ØªÙ…Ø«ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
data class UserData(
    var state: ConversationState = ConversationState.IDLE,
    var currentPortfolio: String = "",
    var currentSymbol: String = "",
    var currentQuantity: Double = 0.0,
    var portfolios: MutableMap<String, Portfolio> = mutableMapOf()
)

// ØªÙ…Ø«ÙŠÙ„ Ø§Ù„Ù…Ø­ÙØ¸Ø©
data class Portfolio(
    var name: String,
    var assets: MutableMap<String, Asset> = mutableMapOf(),
    var cashBalance: Double = 0.0,
    var createdAt: String = LocalDateTime.now().toString()
)

// ØªÙ…Ø«ÙŠÙ„ Ø§Ù„Ø£ØµÙ„ Ø§Ù„Ù…Ø§Ù„ÙŠ
data class Asset(
    var symbol: String,
    var quantity: Double,
    var purchasePrice: Double,
    var currentPrice: Double = 0.0,
    var lastUpdated: String = LocalDateTime.now().toString()
)

// Ø§Ù„Ø¨ÙˆØª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ
class InvestmentPortfolioBot : TelegramLongPollingBot() {
    
    private val users = mutableMapOf<Long, UserData>()
    private val objectMapper = ObjectMapper()
    
    init {
        // Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† ÙˆØ¬ÙˆØ¯ Ù…Ø¬Ù„Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        File(DATA_FOLDER).mkdirs()
        
        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©
        loadData()
    }
    
    override fun getBotUsername(): String = "AISmartAssistant777_bot"
    
    override fun getBotToken(): String = BOT_TOKEN
    
    override fun onUpdateReceived(update: Update) {
        if (!update.hasMessage()) return
        
        val chatId = update.message.chatId
        val userId = chatId
        val messageText = update.message.text ?: return
        
        // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¥Ø°Ø§ Ù„Ù… ÙŠÙƒÙ† Ù…ÙˆØ¬ÙˆØ¯Ø§
        if (!users.containsKey(userId)) {
            users[userId] = UserData()
        }
        
        val userData = users[userId]!!
        
        when {
            // Ø£ÙˆØ§Ù…Ø± Ø§Ù„Ø¨ÙˆØª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
            messageText.startsWith("/start") -> handleStart(chatId, update.message.from.firstName)
            messageText.startsWith("/help") -> handleHelp(chatId)
            messageText.startsWith("/create_portfolio") -> handleCreatePortfolio(chatId, userData)
            messageText.startsWith("/list_portfolios") -> handleListPortfolios(chatId, userData)
            messageText.startsWith("/add_asset") -> handleAddAsset(chatId, userData)
            messageText.startsWith("/portfolio_summary") -> handlePortfolioSummary(chatId, userData)
            
            // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø­Ø§Ù„Ø§Øª Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©
            userData.state == ConversationState.AWAITING_PORTFOLIO_NAME -> processPortfolioName(chatId, messageText, userData)
            userData.state == ConversationState.AWAITING_ASSET_SYMBOL -> processAssetSymbol(chatId, messageText, userData)
            userData.state == ConversationState.AWAITING_ASSET_QUANTITY -> processAssetQuantity(chatId, messageText, userData)
            userData.state == ConversationState.AWAITING_ASSET_PRICE -> processAssetPrice(chatId, messageText, userData)
            
            // Ø§Ø³ØªØ¬Ø§Ø¨Ø© Ø¹Ø§Ù…Ø©
            else -> {
                sendTextMessage(chatId, """
                    Ù„Ù… Ø£ÙÙ‡Ù… Ø·Ù„Ø¨Ùƒ. ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ø§Ù„ØªØ§Ù„ÙŠØ©:
                    /start - Ø§Ø¨Ø¯Ø£ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨ÙˆØª
                    /help - Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©
                    /create_portfolio - Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø­ÙØ¸Ø© Ø¬Ø¯ÙŠØ¯Ø©
                    /list_portfolios - Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø­Ø§ÙØ¸ Ø§Ù„Ø­Ø§Ù„ÙŠØ©
                    /add_asset - Ø¥Ø¶Ø§ÙØ© Ø£ØµÙ„ Ø¥Ù„Ù‰ Ù…Ø­ÙØ¸Ø©
                    /portfolio_summary - Ø¹Ø±Ø¶ Ù…Ù„Ø®Øµ Ø§Ù„Ù…Ø­ÙØ¸Ø©
                """.trimIndent())
            }
        }
        
        // Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø¹Ø¯ ÙƒÙ„ Ø¹Ù…Ù„ÙŠØ©
        saveData()
    }
    
    private fun handleStart(chatId: Long, firstName: String) {
        val message = """
            Ù…Ø±Ø­Ø¨Ø§Ù‹ $firstName!
            
            Ø£Ù†Ø§ Ø¨ÙˆØª Ø§Ù„Ù…Ø­ÙØ¸Ø© Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø±ÙŠØ©ØŒ Ø³Ø£Ø³Ø§Ø¹Ø¯Ùƒ ÙÙŠ Ø¥Ø¯Ø§Ø±Ø© Ø§Ø³ØªØ«Ù…Ø§Ø±Ø§ØªÙƒ Ø¨ÙƒÙ„ Ø³Ù‡ÙˆÙ„Ø©.
            
            ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø£ÙˆØ§Ù…Ø± Ø§Ù„ØªØ§Ù„ÙŠØ©:
            /create_portfolio - Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø­ÙØ¸Ø© Ø¬Ø¯ÙŠØ¯Ø©
            /list_portfolios - Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø­Ø§ÙØ¸ Ø§Ù„Ø­Ø§Ù„ÙŠØ©
            /add_asset - Ø¥Ø¶Ø§ÙØ© Ø£ØµÙ„ Ø¥Ù„Ù‰ Ù…Ø­ÙØ¸Ø©
            /portfolio_summary - Ø¹Ø±Ø¶ Ù…Ù„Ø®Øµ Ø§Ù„Ù…Ø­ÙØ¸Ø©
            
            Ù„Ù„Ù…Ø³Ø§Ø¹Ø¯Ø© Ø§ÙƒØªØ¨ /help
        """.trimIndent()
        
        sendTextMessage(chatId, message)
    }
    
    private fun handleHelp(chatId: Long) {
        val message = """
            ğŸ“‹ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø£ÙˆØ§Ù…Ø±:
            
            /start - Ø§Ø¨Ø¯Ø£ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø¨ÙˆØª
            /help - Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©
            
            ğŸ“Š Ø§Ù„Ù…Ø­Ø§ÙØ¸:
            /create_portfolio - Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø­ÙØ¸Ø© Ø¬Ø¯ÙŠØ¯Ø©
            /list_portfolios - Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø­Ø§ÙØ¸ Ø§Ù„Ø­Ø§Ù„ÙŠØ©
            
            ğŸ’¼ Ø§Ù„Ø£ØµÙˆÙ„:
            /add_asset - Ø¥Ø¶Ø§ÙØ© Ø£ØµÙ„ Ø¥Ù„Ù‰ Ù…Ø­ÙØ¸Ø©
            
            ğŸ“ˆ Ø§Ù„ØªØ­Ù„ÙŠÙ„:
            /portfolio_summary - Ø¹Ø±Ø¶ Ù…Ù„Ø®Øµ Ø§Ù„Ù…Ø­ÙØ¸Ø©
        """.trimIndent()
        
        sendTextMessage(chatId, message)
    }
    
    private fun handleCreatePortfolio(chatId: Long, userData: UserData) {
        userData.state = ConversationState.AWAITING_PORTFOLIO_NAME
        sendTextMessage(chatId, "Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø­ÙØ¸Ø© Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©:")
    }
    
    private fun processPortfolioName(chatId: Long, name: String, userData: UserData) {
        // Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ø¹Ø¯Ù… ÙˆØ¬ÙˆØ¯ Ù…Ø­ÙØ¸Ø© Ø¨Ù†ÙØ³ Ø§Ù„Ø§Ø³Ù…
        if (userData.portfolios.containsKey(name)) {
            sendTextMessage(chatId, "ÙŠÙˆØ¬Ø¯ Ù…Ø­ÙØ¸Ø© Ø¨Ù‡Ø°Ø§ Ø§Ù„Ø§Ø³Ù… Ø¨Ø§Ù„ÙØ¹Ù„. Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ø§Ø³Ù… Ø¢Ø®Ø±:")
            return
        }
        
        // Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø­ÙØ¸Ø© Ø¬Ø¯ÙŠØ¯Ø©
        userData.portfolios[name] = Portfolio(name = name)
        userData.state = ConversationState.IDLE
        
        sendTextMessage(chatId, "ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ù…Ø­ÙØ¸Ø© '$name' Ø¨Ù†Ø¬Ø§Ø­!")
    }
    
    private fun handleListPortfolios(chatId: Long, userData: UserData) {
        if (userData.portfolios.isEmpty()) {
            sendTextMessage(chatId, "Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø­Ø§ÙØ¸ Ø­Ø§Ù„ÙŠØ§Ù‹. Ø§Ø³ØªØ®Ø¯Ù… /create_portfolio Ù„Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø­ÙØ¸Ø© Ø¬Ø¯ÙŠØ¯Ø©.")
            return
        }
        
        val message = StringBuilder("ğŸ“‹ Ø§Ù„Ù…Ø­Ø§ÙØ¸ Ø§Ù„Ø­Ø§Ù„ÙŠØ©:\n\n")
        
        userData.portfolios.forEach { (name, portfolio) ->
            val assetCount = portfolio.assets.size
            val totalValue = portfolio.assets.values.sumOf { it.quantity * it.purchasePrice }
            
            message.append("ğŸ“Š $name\n")
            message.append("    Ø¹Ø¯Ø¯ Ø§Ù„Ø£ØµÙˆÙ„: $assetCount\n")
            message.append("    Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ©: $totalValue\n\n")
        }
        
        sendTextMessage(chatId, message.toString())
    }
    
    private fun handleAddAsset(chatId: Long, userData: UserData) {
        if (userData.portfolios.isEmpty()) {
            sendTextMessage(chatId, "Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø­Ø§ÙØ¸ Ø­Ø§Ù„ÙŠØ§Ù‹. Ø§Ø³ØªØ®Ø¯Ù… /create_portfolio Ù„Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø­ÙØ¸Ø© Ø¬Ø¯ÙŠØ¯Ø© Ø£ÙˆÙ„Ø§Ù‹.")
            return
        }
        
        // Ø¥Ù†Ø´Ø§Ø¡ Ù‚Ø§Ø¦Ù…Ø© Ø¨Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ù…Ø­Ø§ÙØ¸
        val message = StringBuilder("Ø§Ø®ØªØ± Ø§Ù„Ù…Ø­ÙØ¸Ø© Ø§Ù„ØªÙŠ ØªØ±ÙŠØ¯ Ø¥Ø¶Ø§ÙØ© Ø£ØµÙ„ Ø¥Ù„ÙŠÙ‡Ø§:\n\n")
        
        userData.portfolios.keys.forEachIndexed { index, name ->
            message.append("${index + 1}. $name\n")
        }
        
        message.append("\nØ§ÙƒØªØ¨ Ø§Ø³Ù… Ø§Ù„Ù…Ø­ÙØ¸Ø©:")
        
        userData.state = ConversationState.AWAITING_PORTFOLIO_NAME
        sendTextMessage(chatId, message.toString())
    }
    
    private fun processAssetSymbol(chatId: Long, symbol: String, userData: UserData) {
        userData.currentSymbol = symbol.trim().uppercase()
        userData.state = ConversationState.AWAITING_ASSET_QUANTITY
        
        sendTextMessage(chatId, "Ø£Ø¯Ø®Ù„ ÙƒÙ…ÙŠØ© Ø§Ù„Ø£ØµÙ„:")
    }
    
    private fun processAssetQuantity(chatId: Long, quantityText: String, userData: UserData) {
        try {
            val quantity = quantityText.toDouble()
            if (quantity <= 0) {
                sendTextMessage(chatId, "Ø§Ù„ÙƒÙ…ÙŠØ© ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† Ø£ÙƒØ¨Ø± Ù…Ù† ØµÙØ±. Ø£Ø¯Ø®Ù„ Ø§Ù„ÙƒÙ…ÙŠØ© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰:")
                return
            }
            
            userData.currentQuantity = quantity
            userData.state = ConversationState.AWAITING_ASSET_PRICE
            
            sendTextMessage(chatId, "Ø£Ø¯Ø®Ù„ Ø³Ø¹Ø± Ø§Ù„Ø´Ø±Ø§Ø¡ Ù„Ù„ÙˆØ­Ø¯Ø©:")
            
        } catch (e: NumberFormatException) {
            sendTextMessage(chatId, "Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù‚Ù… ØµØ­ÙŠØ­. Ø£Ø¯Ø®Ù„ Ø§Ù„ÙƒÙ…ÙŠØ© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰:")
        }
    }
    
    private fun processAssetPrice(chatId: Long, priceText: String, userData: UserData) {
        try {
            val price = priceText.toDouble()
            if (price <= 0) {
                sendTextMessage(chatId, "Ø§Ù„Ø³Ø¹Ø± ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø£ÙƒØ¨Ø± Ù…Ù† ØµÙØ±. Ø£Ø¯Ø®Ù„ Ø§Ù„Ø³Ø¹Ø± Ù…Ø±Ø© Ø£Ø®Ø±Ù‰:")
                return
            }
            
            // Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø­ÙØ¸Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©
            val portfolio = userData.portfolios[userData.currentPortfolio]
            if (portfolio != null) {
                // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø£ØµÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø­ÙØ¸Ø©
                portfolio.assets[userData.currentSymbol] = Asset(
                    symbol = userData.currentSymbol,
                    quantity = userData.currentQuantity,
                    purchasePrice = price,
                    currentPrice = price
                )
                
                sendTextMessage(chatId, """
                    ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø£ØµÙ„ Ø¨Ù†Ø¬Ø§Ø­!
                    
                    Ø§Ù„Ø±Ù…Ø²: ${userData.currentSymbol}
                    Ø§Ù„ÙƒÙ…ÙŠØ©: ${userData.currentQuantity}
                    Ø³Ø¹Ø± Ø§Ù„Ø´Ø±Ø§Ø¡: $price
                    Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù‚ÙŠÙ…Ø©: ${userData.currentQuantity * price}
                """.trimIndent())
            } else {
                sendTextMessage(chatId, "Ø­Ø¯Ø« Ø®Ø·Ø£: Ø§Ù„Ù…Ø­ÙØ¸Ø© ØºÙŠØ± Ù…ÙˆØ¬ÙˆØ¯Ø©.")
            }
            
            // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø­Ø§Ù„Ø©
            userData.state = ConversationState.IDLE
            userData.currentPortfolio = ""
            userData.currentSymbol = ""
            userData.currentQuantity = 0.0
            
        } catch (e: NumberFormatException) {
            sendTextMessage(chatId, "Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø±Ù‚Ù… ØµØ­ÙŠØ­. Ø£Ø¯Ø®Ù„ Ø§Ù„Ø³Ø¹Ø± Ù…Ø±Ø© Ø£Ø®Ø±Ù‰:")
        }
    }
    
    private fun handlePortfolioSummary(chatId: Long, userData: UserData) {
        if (userData.portfolios.isEmpty()) {
            sendTextMessage(chatId, "Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø­Ø§ÙØ¸ Ø­Ø§Ù„ÙŠØ§Ù‹. Ø§Ø³ØªØ®Ø¯Ù… /create_portfolio Ù„Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø­ÙØ¸Ø© Ø¬Ø¯ÙŠØ¯Ø©.")
            return
        }
        
        // Ø·Ù„Ø¨ Ø§Ø³Ù… Ø§Ù„Ù…Ø­ÙØ¸Ø© Ù„Ø¹Ø±Ø¶ Ù…Ù„Ø®ØµÙ‡Ø§
        val message = StringBuilder("Ø§Ø®ØªØ± Ø§Ù„Ù…Ø­ÙØ¸Ø© Ù„Ø¹Ø±Ø¶ Ù…Ù„Ø®ØµÙ‡Ø§:\n\n")
        
        userData.portfolios.keys.forEachIndexed { index, name ->
            message.append("${index + 1}. $name\n")
        }
        
        sendTextMessage(chatId, message.toString())
        
        // ØªØºÙŠÙŠØ± Ø­Ø§Ù„Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„Ø§Ù†ØªØ¸Ø§Ø± Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù…Ø­ÙØ¸Ø©
        userData.state = ConversationState.AWAITING_PORTFOLIO_NAME
    }
    
    private fun sendTextMessage(chatId: Long, text: String) {
        val message = SendMessage()
        message.chatId = chatId.toString()
        message.text = text
        
        try {
            execute(message)
        } catch (e: TelegramApiException) {
            e.printStackTrace()
        }
    }
    
    private fun loadData() {
        // ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
        val usersFile = File(USERS_FILE)
        if (usersFile.exists()) {
            try {
                val userData = objectMapper.readValue<Map<String, UserData>>(usersFile)
                userData.forEach { (userIdStr, data) ->
                    users[userIdStr.toLong()] = data
                }
            } catch (e: Exception) {
                e.printStackTrace()
            }
        }
    }
    
    private fun saveData() {
        // Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
        val usersFile = File(USERS_FILE)
        try {
            objectMapper.writeValue(usersFile, users)
        } catch (e: Exception) {
            e.printStackTrace()
        }
    }
}

fun main() {
    // ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¨ÙˆØª
    val botsApi = TelegramBotsApi(DefaultBotSession::class.java)
    botsApi.registerBot(InvestmentPortfolioBot())
    
    println("ØªÙ… ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¨ÙˆØª Ø¨Ù†Ø¬Ø§Ø­!")
}
